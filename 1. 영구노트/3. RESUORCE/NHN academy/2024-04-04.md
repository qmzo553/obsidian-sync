### 주제 : SQL

### 날짜 : 2024-04-04 08:43
----
### 메모
> SQL 구성
> 	- 데이터 조작어(Data Manipulation Language - DML)
> 	- 데이터 정의어(Data Definition Language - DDL)
> 	- 데이터 제어어(Data Control Language - DCL)
> 	- 트랜잭션 제어어(Transaction Control Language - TCL)

> DDL(Data Definition Language)
> SQL에서 DDL 구문
> 	- CREATE : 릴레이션(table), 뷰, 인덱스, 저장 프로시저 등 데이터베이스 객체 생성
> 	- DROP : 존재하는 데이터베이스 객체 삭제
> 	- ALTER : 존재하는 데이터베이스 객체 수정
> 	- TRUNCATE : 테이블 내 데이터의 완전 삭제

> SQL 질의 형식
> SQL 표현의 기본 구조는 SELECT, FROM, WHERE 세 개의 절로 이러우진다.
> 	- SELECT : 관계 대수에서 프로젝션(Projection) 연산과 일치, 결과에 나타날 속성을 나열하는데 사용된다.
> 	- FROM : 관계 대수의 카티션 프로덕트에 해당하며, 질의에서 조회할 릴레이션을 나열
> 	- WHERE : 관계대수에서  셀렉션(Selection) 연산과 일치, FROM 절에 나타나는 릴레이션 속성들의 조건으로 구성된다.

> SELECT 절
> 관계 대수에서 프로젝션 연산과 일치, 결과에 나타날 속성을 나열하는데 사용된다.
> FROM 리스트에 나오는 테이블들로 부터 산출될 필드 이름들의 리스트
> 데이터 타입에 적용할 수 있는 산술적인 함수를 허용한다.

> SELECT 명령 내의 수식과 문자열
> 수식은 필드 이름 및 상수들로 구성된 산술식 또는 문자열 서식
> 각 항에는 SUM이나 COUNT와 같은 집계 함수도 포함할 수 있다.
> SUM 함수 : 지정된 필드에 포함된 값 집합의 합계를 반환
> COUNT 함수 : 쿼리의 결과로 반환되는 NULL을 제외한 투플의 수를 반환

> FROM 절
> FROM 절에 있는 리스트는 질의에 대한 결과를 생성하기 위해 참여하는 릴레이션 목록
> 범위 변수를 사용하여 릴레이션의 별칭을 정의할 수 있다.
> 리스트에 있는 릴레이션들의 카티션 프로덕트를 정의한다.
> 하나 이상의 릴레이션 스키마에서 나타나는 속성의 모호성을 피하기 위해 relation-name.attribute.com 표기법을 사용한다.
> FROM 절에서 외부 조인을 수행할 수 있는 확장을 포함한다.

> WHERE 절
> 관계대수에서 셀렉션(Selection) 연산과 일치한다.
> FROM 절에 나타나는 릴레이션 속성들의 조건으로 구성된다.
> 조건식으로 Selection 연산을 수행한다. (범위 연산을 위해 BETWEEN 비교 연산을 제공)

> UNION
> 관계 대수식의 합집합에 대응한다.
> 두 SQL 질의의 결과가 합병 가능 조건이면 UNION 연산 가능
> SELECT 절과는 다르게 기본적으로 중복을 제가한다.

> INTERSECT
> 관계 대수식의 교집합에 대응한다.
> 두 SQL 질의의 결과가 합병 가능 조건이면 INTERSECT 연산 가능
> SELECT 절과는 다르게 기본적으로 중복을 제거한다. (INTERSECT ALL을 사용하여 모든 중복을 유지할 수 있다.)
> mysql은 지원하지 않음

> EXCEPT
> 관계 대수식의 차집합에 대응한다.
> 두 SQL 질의의 결과가 합병 가능 조건이면 EXCEPT 연산 가능
> SELECT 절과는 다르게 기본적으로 중복을 제거한다.(EXCEPT ALL을 사용하여 모든 중복을 유지할 수 있다.)
> mysql은 지원하지 않음

> 서브 쿼리 개요
> 단일 질의 안에 질의가 포함된 형태의 쿼리
> 	- 관계 대수 질의 결과는 릴레이션을 반환한다.
> 	- 서브 쿼리의 결과를 주 쿼리에서 받아서 처리하는 형식으로, 포함된 쿼리(Nested Query)라고도 부른다.
> 서브 쿼리(Subquery) : WHERE 절에서 섹렉션 연산의 값을 산출하기 위해 사용되는 질의
> 인라인 뷰(Inline View) : FROM 절에서 질의의 결과를 테이블처럼 사용하는 용도의 질의
> 스칼라 서브 쿼리(Scala Subquery) : SELECT 문에서 주로 계산 결과값을 쿼리 결과에 포함시키는데 사용되는 질의
> 상호 연관 서브 쿼리 : 서브 쿼리에서 주 쿼리의 필드값과 연관되어 사용하는 질의
> 
> 상호 연관 서브 쿼리는 조심해서 사용해야 하고, 스칼라 서브 쿼리는 적은 데이터 양일 때 사용해도 된다.
> 개발자에게 어떠한 기술의 사용에 있어서 무조건은 없다....

> 인라인 뷰(Inline View)
> 서브 쿼리가 FROM 절 안에서 사용되는 경우 인라인 뷰라고 한다.
> FROM 절에서 사용된 서브 쿼리의 결과가 하나의 테이블에 대한 뷰처럼 사용된다.

> 스칼라 서브 쿼리(Scalar Subquery)
> SELECT 절에 포함된 서브 쿼리를 스칼라 서브 쿼리라고 한다.
> 스칼라 서브 쿼리의 반환 값은 하나의 레코드에서 단일 컬럼이어야 한다.
> 테이블의 조인이 많아 실행 계획의 제어가 어려울 경우 사용

> 상호 연관 서브쿼리(Correlated Subquery)
> 서브 쿼리가 주 쿼리의 필드 값과 연관되어 사용하는 질의이다.
> 일반적인 서브 쿼리는 서브 쿼리의 결과를 주 쿼리가 이용한다.
> 주 쿼리의 한 Row에 대해 서브 쿼리가 한 번씩 실행된다.
> 결과 집합이 대량인 경우 효울이 떨어진다.
> 포함된 서브 쿼리와 인라인 뷰, 포함된 서브 쿼리에서 주 쿼리와 값을 비교하는 모든 경우 사용한다.

> 집계 함수
> SELECT 절에서 산출되는 컬럼의 값에 대한 집계를 위해 사용된다.
> COUNT(DISTINCT A) : A 필드에 있는 유일한 값들의 수
> SUM(DISTINCT A) : A 필드에 있는 유일한 값들의 합
> AVG(DISTINCT A) : A 필드에 있는 유일한 값ㄷ르의 평균
> MAX(A) : A 필드에 있는 최댓값
> MIN(A) : A 필드에 있는 최솟값

> GROUP BY 절과 HAVING 절
> 릴레이션 투플들을 여러 그룹으로 나누어서 각 그룹별로 집단 연산을 수행한다.
> 그룹의 수는 릴레이션의 인슨턴스에 따라 좌우된다.
> GROUP BY : 컬럼의 값을 기준으로 투플을 그룹화 한다.
> HAVING : 그룹에 대한 조건식을 지정한다.

> 정렬 개요
> ORDER BY를 이용한 정렬 : 데이터베이스 질의 결과는 테이블 내의 투플의 위치(삽입된 순서)대로 산출된다.
> INDEX를 이용한 정렬 : 질의에서 인덱스를 사용하면 인덱스에 포함된 데이터를 기준으로 데이터를 정렬한다.
### 출처(참고 문헌)
-

### 연결 문서
-
 